#### 「Vue.js 分からーん！」と感じていたのは、
#### 自分が『オブジェクト指向の奴隷』だったんだと
#### 気がついた話。

　
　  
　  
　　　　id:kakisoft

---
### 自己紹介

<div class="left">
![alt](assets/image/kakisoft01.png)
</div>

<div class="right">
  <table style="white-space: nowrap;border-style: none;">
    <tr>
      <td>@size[0.75em](**名前**)</td>
      <td>
        <ruby>
        <rb>@size[0.95em](垣花　暁)</rb>
        <rp>（</rp>
        <rt>かきのはな　さとる</rt>
        <rp>）</rp>
        </ruby>
        　@fa[twitter fa-0.3x][@size[0.7em](kakisoft_tab)](https://twitter.com/kakisoft_tab)
      </td>
    </tr>
    <tr>
      <td>@size[0.75em](**出身**)</td>
      <td>@size[0.95em](沖縄県)</td>
    </tr>
    <tr>
      <td>@size[0.75em](**仕事**)</td>
      <td>@size[0.95em](物流系エンジニア) @size[0.7em](（フリーランス）)</td>
    </tr>
    <tr>
      <td>@size[0.75em](**使う**)</td>
      <td>@size[0.95em](.NET/Java/PHP/RDB全般)</td>
    </tr>
    <tr>
      <td>&nbsp;</td>
      <td>@size[0.95em](物流業界向けの言語や機器)</td>
    </tr>
    <tr>
      <td>@size[0.75em](**趣味**)</td>
      <td>@size[0.95em](リアル脱出ゲーム)</td>
    </tr>
  </table>
</div>
---
得意なのは .NET、Java、PHP。  
フロントは jQuery触る程度。  
開発について、ズブの素人という訳ではない。
---
ただ、フロントは興味あって、  
プライベートでも Vue.js を触っていた。  
実務では、ほんのり触る程度。
---
しかし、  
　  
「分からん・・・」  
　  
の連続。
---
正確には、「分からない」というよりも、  
常に違和感を感じ続けて、手に馴染まない感覚。
---
ただ、その違和感の正体が何なのか、  
ずっと分からなかった。
---
何故、僕はこんなに Vue.js に  
違和感を感じているのだろうか。
---
何故、僕には Vue.js が、  
こんなに馴染まないのだろうか。
---
違和感を感じつつも、  
それを言語化できない日々が続いた。
---
そして、触り続けて行くうちに、  
ようやく分かった。
---
それは、自分が  
　    
(@size[1.3em](『オブジェクト指向の奴隷』)  
　   
だったんだ、と気がついた事。
---
どういう事か。
---
Vue.js で実現している事は、  
一見、オブジェクト指向言語のそれと   
よく似ている（場合もある）。
---
が、その思想や方法は、  
オブジェクト指向のそれとは  
根幹が全く異なる。
---
というのが、自分の感じていた  
違和感の正体だった。
---
１．インスタンスを生成しない
---
「テンプレートの作成」は、一見 OOP で言う所の「クラスの作成」に非常に似ている。  
（というか、ほぼ同じ概念と思っていた。）
---
しかし、インスタンスを作成せず、  
直接クラスを参照しているかのように見える記述が、  
とっつきにくく感じた原因だった。  
　  
@size[0.5em](これは、Vue.js というより、クラスベースOOPと、プロトタイプベースOOP の違いかも・・・。)
---
２．データと直接バインディングしている
---
（例：こういうの。
```html
  <div id="app01">
    <p>Hello {{ name }}!</p>
  </div>
```
```js
  var vm01 = new Vue({
    el: '#app01',
    data: {
      name: 'kaki'
    }
  });
```
---
オブジェクト思考に慣れていたせいか、  
「data ＝ インスタンス変数」  
と解釈してしまった。  
　  
が、OOPにおいて、インスタンス変数を  
外部から直接参照する事は、まず無い。  
getter/setter などのアクセサを経由する。
---
同じ MVVMの思想を持つ WPF は、  
内部で保持する変数と、外部に公開するプロパティは、  
明確に区別される。  
　  
WPFを知っていたという事も、  
Vue.js に馴染みにくかった要因だった。
---
３．子コンポーネントへの値の渡し方
---
（例：こういうの。
```js
Vue.component('comp-child', {
  template: '<li>{{ name }} HP.{{ hp }}</li>',
  props: ['name', 'hp']
})
```
---
『子コンポーネントの作成 ≒ インスタンスの作成』  
と思っていた。
　  
OOPでは、インスタンス生成時に、コンストラクタを使用し、そこで初期値を設定する（事が多い）。
アクセサを経由しているようにも見えず、直接変数をアクセスしているようにも見えない記述が、違和感の原因だった。
---
４．コンストラクが無い
---
オブジェクト指向言語で言うところのインスタンス生成みたいなイメージだったので、
「コンストラクタはどう書くの？」みたいな発想になっていた。

created か Mounted がそれに相当する？
正直、使い分けは今ひとつ分かってません。
---
５．データ型
---
（例）こういうの。
```js
Vue.component('example', {
  props: {
    value: {
      type: [String, Number],
      default: 100,
      required: true,
      validator: function (value) {
        return value > 10
      }
    }
  }
})
```
---
役割は、オブジェクト指向言語のコンストラクタに近い。
が、見た目はプロパティっぽく感じてしまう。

data（インスタンス変数）と、データの型や属性を定義する場所が隔離されている。

そういった発想に慣れていなかった。

（参考：C#）
```cs
 class Point
{
    public int X { get; set; } = 10;
    public int Y { get; set; } = 20;
}
```
---
こんな感じで、「一見、オブジェクト思考言語のそれと似てるけど、根幹の考えは全く違う。」という概念がいくつかあったのが、
理解を妨げている原因でした。
---
正直、オブジェクト思考を全く知らなかった方が、
理解が早かったような気がします。
---
Vue.js を教える立場の方が、  
　  
@color[#ffe0ab](@size[1.1em](「この人、素人じゃないのに、))  
@color[#ffe0ab](@size[1.1em](何でこんなに飲み込みが悪いの？」))  
　  
というケースに遭遇した場合、  
もしかしたら、以上のような事が  
原因かもしれません。
---
おわり
